<app-page>
    <app-task-detail-header [headingLoading]="headingLoading"
                            [pageSubTitle]="dependencies?.datasetTitle"
                            [pageTitle]="'personalSpace.requestDetail.requestDateWithParam' |translate : {date: dependencies?.receivedDate.format('DD/MM/YYYY')}"
                            [icon]="'restricted-dataset'">
    </app-task-detail-header>
    <app-tabs *ngIf="task">
        <app-tab [label]="'personalSpace.requestDetail.tabs.demand' | translate" [icon]="'key_icon_circle'">
            <ng-template>
                <app-task-detail></app-task-detail>
            </ng-template>
        </app-tab>
        <app-tab [label]="'personalSpace.requestDetail.tabs.project' | translate" [icon]="'projet'">
            <ng-template>
                <app-project-detail></app-project-detail>
            </ng-template>
        </app-tab>
        <app-tab [label]="'personalSpace.requestDetail.tabs.history' | translate" [icon]="'historique'">
            <ng-template>
                <app-linked-dataset-history></app-linked-dataset-history>
            </ng-template>
        </app-tab>
        <app-banner-button *ngFor="let action of actions"
                           (click)="openPopinForAction(action)">{{action.label}}</app-banner-button>
        <ng-container appTabsLayout>
            <div class="detail-wrapper">
                <div class="onglet-wrapper">
                    <ng-container appTabContent></ng-container>
                </div>
                <div class="project-owner-wrapper">
                    <app-project-owner-detail></app-project-owner-detail>
                </div>
            </div>
        </ng-container>
    </app-tabs>
</app-page>
