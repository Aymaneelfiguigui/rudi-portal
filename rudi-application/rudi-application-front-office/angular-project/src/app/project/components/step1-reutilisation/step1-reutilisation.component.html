<div class="step-card">

    <div class="step-card-header">
        <h2 class="step-title">{{'project.stepper.reuse.step1.title' | translate}}</h2>
        <p class="step-description">{{'project.stepper.reuse.step1.description' | translate}}</p>
        <p class="step-required-information">
            <span class="required-symbol">*</span>
            {{'project.stepper.reuse.step1.requiredInformation' | translate}}
        </p>
    </div>

    <form [formGroup]="step1FormGroup">
        <!-- Title Field-->
        <ng-container>
            <div class="d-flex">
                <mat-label>{{'project.firstStepForm.title'|translate}}</mat-label>
                <span class="ml-1 mat-error">{{'signup.etoile'|translate}}</span>
            </div>
            <mat-hint class="title-hint">{{'project.firstStepForm.titleHint'|translate}}
            </mat-hint>
            <mat-form-field appearance="outline" hideRequiredMarker>
                <input type="text" formControlName="title" matInput
                       autocomplete="off">
                <mat-error class="stepper-mat-error"
                           *ngIf="step1FormGroup.get('title').errors?.required">
                    <em class="fa fa-info-circle fa-2x mr-2"></em>{{'project.firstStepForm.errorFieldRequired'|translate}}
                </mat-error>
            </mat-form-field>
        </ng-container>

        <!-- Description Field-->
        <ng-container>
            <div class="d-flex">
                <mat-label>{{'project.firstStepForm.description'|translate}}</mat-label>
                <span class="ml-1 mat-error">{{'signup.etoile'|translate}}</span>
            </div>

            <mat-hint
                class="title-hint">{{'project.firstStepForm.descriptionHint'|translate}}
            </mat-hint>
            <mat-form-field appearance="outline" hideRequiredMarker>
                                        <textarea class="text-area-height" type="text" matInput
                                                  formControlName="description" autocomplete="off"></textarea>
                <mat-error class="stepper-mat-error"
                           *ngIf="step1FormGroup.get('description').errors?.required">
                    <em class="fa fa-info-circle fa-2x mr-2"></em>{{'project.firstStepForm.errorFieldRequired'|translate}}
                </mat-error>
            </mat-form-field>
        </ng-container>

        <!-- Image Field-->
        <ng-container>
            <div class="d-flex">
                <mat-label>{{'project.firstStepForm.image'|translate}}</mat-label>
            </div>

            <mat-hint class="title-hint">{{'project.firstStepForm.imageHint'|translate}}
            </mat-hint>

            <div class="image-form-margin" *ngIf="fileMaxSize && fileExtensions">
                <app-uploader [fileFormControl]="step1FormGroup?.controls?.image"
                              [adapter]="adapter"
                              [enableCropper]="true"
                              [fileMaxCount]="1"
                              [fileMaxSize]="fileMaxSize.toMegabytes()"
                              [fileExtensions]="fileExtensions"
                              [imageText]="'project.imageUploader.ajouterImage'"
                              [imageFormat]="'project.imageUploader.formatImage'">

                </app-uploader>
            </div>
            <p class="stepper-mat-error" *ngIf="step1FormGroup.get('image').errors"></p>
        </ng-container>

        <!-- Type de réutilisation Field-->
        <ng-container>
            <div class="d-flex">
                <mat-label>{{'project.firstStepForm.reuseType'|translate}}</mat-label>
                <span class="ml-1 mat-error">{{'signup.etoile'|translate}}</span>
            </div>

            <mat-hint
                class="title-hint">{{'project.firstStepForm.reuseTypeHint'|translate}}
            </mat-hint>
            <mat-form-field appearance="outline" hideRequiredMarker>
                <mat-select formControlName="type">
                    <mat-option *ngFor="let project of projectType"
                                [value]="project.code">{{project.label}}</mat-option>
                </mat-select>
                <mat-error class="stepper-mat-error"
                           *ngIf="step1FormGroup.get('type').errors?.required">
                    <em class="fa fa-info-circle fa-2x mr-2"></em>{{'project.firstStepForm.errorFieldRequired'|translate}}
                </mat-error>
            </mat-form-field>

        </ng-container>

        <!-- URL d'accès Field-->
        <ng-container>
            <div class="d-flex">
                <mat-label>{{'project.firstStepForm.accessUrl'|translate}}</mat-label>
            </div>
            <mat-hint class="title-hint">{{'project.firstStepForm.accessUrlHint'|translate}}
            </mat-hint>
            <mat-form-field appearance="outline">
                <input type="url" formControlName="url" matInput
                       autocomplete="off">
                <mat-error class="stepper-mat-error"
                           *ngIf="step1FormGroup.get('url').hasError('pattern')">
                    <em class="fa fa-info-circle fa-2x mr-2"></em>{{'project.firstStepForm.errorPattern'|translate}}
                </mat-error>
            </mat-form-field>
        </ng-container>
    </form>
</div>
