openapi: 3.0.0
info:
  description: API Public Template Rudi
  version: 0.0.1
  title: rudi-kmedia-api
  termsOfService: 'http://swagger.io/terms/'
  contact:
    email: ca.marchand@rennesmetropole.fr
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
paths: {}
components:
  schemas:
    MediaDataset:
      type: object
      required:
        - authorIdentifier
        - authorAffiliation
        - kindOfData
        
      properties:
        dataverse_doi:
          description: Digital object identifier (modern Crossref DOIs version) generated by dataverse
          type: string
          pattern: '^doi:10\.\d{4,9}/[-.;()/:\w]+$'
        authorIdentifier:
          description: Identifiant de l'auteur du media (UUID du fournisseur ou du producteur), Universally unique identifier v4 format       
          type: string
          format: uuid
        authorAffiliation:
          $ref: '#/components/schemas/MediaOrigin' 
        authorName:
          description: Nom de l'auteur du media (nom du fournisseur ou du producteur)       
          type: string            
        kindOfData:
          $ref: '#/components/schemas/KindOfData'
        title:
          description: Titre du media       
          type: string        
    #---------------------------------------------------------------------------          
    MediaSearchCriteria:
      description: Critère de recherche sur les médias (datasets du dataverse Rudi Media)
      type: object
      properties:
        mediaAuthorIdentifier:
          description: Identifiant de l'auteur du media (UUID du fournisseur ou du producteur)
          type: string
          format: uuid
        mediaAuthorAffiliation:
          $ref: '#/components/schemas/MediaOrigin'
        kindOfData:
          $ref: '#/components/schemas/KindOfData'
        limit:
          type: integer
          description: Nombre d'élément maximum
        offset:
          type: integer
          description: Index de l'élément initial         
        order:
          description: 'Liste des tris à réaliser. Valeurs possibles :  name, date. Mettre un signe - devant pour tri descendant (ex -name)'
          type: string
    #---------------------------------------------------------------------------
    MediaDatasetList:
      type: object
      properties:
        total:
          type: integer
          format: int64
        items:
          type: array
          items:
            $ref: '#/components/schemas/MediaDataset'
    #--------------------------------------------------------------------------- 
    KindOfData:
      description: type de media
      type: string
      enum: [LOGO]
    #--------------------------------------------------------------------------- 
    MediaOrigin:
      description: origine du media (type d'auteur dont provient le media)
      type: string 
      enum: [provider, producer] 
